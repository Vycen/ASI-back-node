(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){var n={generateUUID:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},getNextSlidIndex:function(e,t){for(var n=-1,a=0;a<e.length;a++)if(t===e[a].id){n=a;break}return n+1<e.length?n+1:e.length-1},getPrevSlidIndex:function(e,t){for(var n=-1,a=0;a<e.length;a++)if(t===e[a].id){n=a;break}return n-1>=0?n-1:0}};e.exports=n},105:function(e,t,n){e.exports=n(258)},110:function(e,t,n){},112:function(e,t,n){},118:function(e,t,n){},120:function(e,t,n){},122:function(e,t,n){},148:function(e,t){},258:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(100),i=n.n(o),r=(n(110),n(1)),s=n(2),u=n(4),l=n(3),f=n(5),h=(n(112),n(13)),d=n(18),m=(n(118),n(120),n(122),function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"renderFrame",value:function(){var e=this.props.data;return c.a.createElement("iframe",{className:"frame",style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},src:e.src})}},{key:"renderVideo",value:function(){var e=this.props.data;return c.a.createElement("iframe",{className:"frame",style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},src:e.src+"?autoplay=1"})}},{key:"renderImage",value:function(){var e=this.props.data;return c.a.createElement("img",{className:"image",src:e.src})}},{key:"render",value:function(){var e=this.props.data;if(e){if("img"===e.type||"img_url"===e.type)return this.renderImage();if("video"===e.type)return this.renderVideo();if("web"===e.type)return this.renderFrame()}return null}}]),t}(a.Component)),v=function(e){function t(e){return Object(r.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.content;return c.a.createElement(m,{data:e})}}]),t}(a.Component),p=function(e){function t(e){return Object(r.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.content;return c.a.createElement("div",{className:"contentContainer"},c.a.createElement(m,{data:e}),c.a.createElement("span",{className:"contentTitle"},e.title),c.a.createElement("span",{className:"contentSubtitle"},"ID: "+e.id))}}]),t}(a.Component),b=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.onlyContent;return c.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"stretch",alignItems:"stretch"}},!n&&c.a.createElement(p,{content:t}),n&&c.a.createElement(v,{content:t}))}}]),t}(a.Component);var y=Object(h.b)(function(e,t){return Object(d.a)({},t)},{})(b),O=n(103),k=n.n(O),j=n(124),g=n(151),E=new(function(){function e(){Object(r.a)(this,e),this.comm={},this.comm.io={},this.socket="",this.instance=g.create(),this.emitOnConnect=this.emitOnConnect.bind(this),this.slideEventCallback=void 0}return Object(s.a)(e,[{key:"toString",value:function(){return""}},{key:"loadPres",value:function(e,t,n){this.instance.get("/loadPres").then(function(n){var a=Object.keys(n.data).length;console.log("raw data"),console.log(n.data);var c="";a>0&&(console.log("key"),console.log(e),console.log("data"),console.log(n.data[e]),c=n.data[e]),t(c)}).catch(function(e){n(e)})}},{key:"loadContent",value:function(e,t){this.instance.get("/contents").then(function(t){for(var n=Object.keys(t.data).length,a={},c=0;c<n;c++){var o=t.data[Object.keys(t.data)[c]];a[o.id]=o}e(a)}).catch(function(e){t(e)})}},{key:"savPres",value:function(e,t){this.instance.post("/savePres",e).then(function(e){console.log(e)}).catch(function(e){t(e)})}},{key:"savContent",value:function(e,t,n){this.instance.post("/contents",e).then(function(e){t(e)}).catch(function(e){n(e)})}},{key:"fileUpload",value:function(e,t,n){var a=new FormData;a.append("file",e),this.instance.post("/file-upload",a).then(function(e){console.log(e),t()}).catch(function(e){n(e)})}},{key:"emitOnConnect",value:function(e){console.log("message"),console.log("socket"),console.log(this.socket),console.log("this.comm.io.uuid"),console.log(this.comm.io.uuid),this.socket.emit("data_comm",{id:this.comm.io.uuid},function(e){console.log(e)})}},{key:"onSlideEvent",value:function(e){this.slideEventCallback=e}},{key:"socketConnection",value:function(e,t){var n=this;this.socket=j.connect(Object({NODE_ENV:"production",PUBLIC_URL:""}).SOCKET_URL),this.comm.io.uuid=e,this.socket.on("connection",function(e){n.emitOnConnect(e)}),this.socket.on("sendSlideToClient",function(e){console.log(e),t&&t(e)}),this.socket.on("newPres",function(e){}),this.socket.on("slidEvent",function(e){})}},{key:"backward",value:function(){this.socket.emit("slidEvent",{CMD:"PREV"})}},{key:"forward",value:function(){this.socket.emit("slidEvent",{CMD:"NEXT"})}},{key:"play",value:function(e){this.socket.emit("slidEvent",{CMD:"START",PRES_ID:e})}},{key:"pause",value:function(){this.socket.emit("slidEvent",{CMD:"PAUSE"})}},{key:"begin",value:function(){this.socket.emit("slidEvent",{CMD:"BEGIN"})}},{key:"end",value:function(){this.socket.emit("slidEvent",{CMD:"END"})}}]),e}()),x=k.a.generateUUID(),C=function(e){function t(e){return Object(r.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this,e))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.updateContent;E.socketConnection(x,function(t){return e(t)})}},{key:"render",value:function(){var e=this.props.currentContent;return c.a.createElement("div",{className:"container-fluid height-100"},c.a.createElement("div",{className:"row height-100"},c.a.createElement("div",{className:"height-100",style:{display:"flex",flex:1}},c.a.createElement(y,{onlyContent:!0,content:e}))))}}]),t}(a.Component);var w=Object(h.b)(function(e,t){return Object(d.a)({},t,{currentContent:e.UpdateContentReducer.currentContent})},{updateContent:function(e){return{type:"UPDATE_CONTENT",content:e}}})(C),N=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"mainContainer"},c.a.createElement(w,null))}}]),t}(a.Component);var D=Object(h.b)(function(e,t){return{}},{})(N),I=n(104),T=n.n(I),U=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(T.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(D,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=function(e){return function(t){return function(n){var a=!1,c=[];function o(){c.forEach(function(t){return e.dispatch(t)}),c=[]}var i=Object.assign({},n,{asyncDispatch:function(e){c=c.concat([e]),a&&o()}});t(i),a=!0,o()}}},S=n(17),M=function(e,t){switch(e||(e={}),t.type){case"UPDATE_CONTENT":return console.log(t),Object(d.a)({},e,{currentContent:t.content});default:return Object(d.a)({},e)}},_=Object(S.c)({UpdateContentReducer:M}),R=Object(S.d)(_,Object(S.a)(P));i.a.render(c.a.createElement(h.a,{store:R},c.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[105,2,1]]]);
//# sourceMappingURL=main.d82dda1b.chunk.js.map